webpackJsonp([7],{"3N/K":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("Dd8w"),l=o.n(r),n=o("NYxO"),i=Object(n.a)("app"),a=i.mapState,s=i.mapActions,c=Object(n.a)("form"),f=(c.mapState,c.mapActions),u={data:function(){return{model:this.$route.path.split("/").reverse()[0],filterConfig:{submitText:null,resetText:"Limpiar"},formFilter:[],currentPage:1,perPage:10,filter:{},newModel:{},fields:[],formCreate:[]}},computed:l()({},a(["sticky"])),created:function(){console.log("Model Created"),console.log(location),console.log(this.$route)},methods:l()({},f(["getFilter","getFields","getCreate"]),s(["setSticky","unsetSticky"]),{cleanFilter:function(){this.$validator.clearForm(this.model.filter)},items:function(e){return console.log("ITEMS!!!"),console.log(e),console.log(e.filter()),this.$http.get(this.$route.path+".json?type=data").then(function(e){return e.body}).catch(function(e){return console.log(e),[]})},filterF:function(){return this.model.filter},sendCreate:function(e){var t=this;this.$refs.formCreate.validateForm().then(function(){console.log(t.newModel),t.$http.post(t.$route.path+".json",t.newModel).then(function(e){console.log("resultado del FWcreate"),console.log(e)}).catch(function(t){e.preventDefault(),console.log("error del FWcreate"),console.log(t)})},function(t){e.preventDefault(),alert(error)})}}),watch:{filter:{handler:function(e){console.log("cambio de filter"),console.log(e)},deep:!0}},mounted:function(){console.log(location)}},m=o("XyMi"),d=Object(m.a)(u,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h1",[e._v(e._s(e.$route.meta.description||e.$route.path))]),e._v(" "),o("api-request",{attrs:{resource:e.getFilter,params:e.model},model:{value:e.formFilter,callback:function(t){e.formFilter=t},expression:"formFilter"}},[e.formFilter?o("ITDForm",{attrs:{horizontal:"",form:e.formFilter,config:e.filterConfig},on:{submit:function(e){e.stopPropagation()},reset:e.cleanFilter},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e()],1),e._v(" "),o("api-request",{attrs:{resource:e.getFields,params:e.model},model:{value:e.fields,callback:function(t){e.fields=t},expression:"fields"}},[e.fields?o("b-table",{attrs:{"show-empty":"",fields:e.fields,items:e.items,"current-page":e.currentPage,"per-page":e.perPage,striped:"",hover:"","empty-text":"No hay datos para mostrar",filter:e.filterF},scopedSlots:e._u([{key:"seleccion",fn:function(t){return[o("b-form-checkbox",{key:t.item.folio,attrs:{value:t.item},model:{value:e.seleccion[t.item.folio],callback:function(o){e.$set(e.seleccion,t.item.folio,o)},expression:"seleccion[row.item.folio]"}})]}}])}):e._e()],1),e._v(" "),o("api-request",{attrs:{resource:e.getCreate,params:e.model},model:{value:e.formCreate,callback:function(t){e.formCreate=t},expression:"formCreate"}},[o("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.createNew",modifiers:{createNew:!0}}]},[e._v("Nuevo")]),e._v(" "),o("b-modal",{attrs:{id:"createNew",title:"Nuevo...","ok-title":"Enviar","cancel-title":"Cancelar",size:"lg",centered:""},on:{shown:e.unsetSticky,hidden:e.setSticky,ok:e.sendCreate}},[e._t("modal-cancel"),e._v(" "),e.formCreate?o("ITDForm",{ref:"formCreate",attrs:{horizontal:"",form:e.formCreate,config:{submitText:null,resetText:null}},on:{submit:function(e){e.stopPropagation()},reset:e.cleanFilter},model:{value:e.newModel,callback:function(t){e.newModel=t},expression:"newModel"}}):e._e()],2)],1)],1)},[],!1,null,null,null);t.default=d.exports}});
//# sourceMappingURL=7.9af3898f9ed4c53aa057.js.map