{"version":3,"sources":["webpack:///src/components/Model.vue","webpack:///./src/components/Model.vue","webpack:///./src/components/Model.vue?c346"],"names":["Model","computed","extends_default","mapStateAPP","location","$route","methods","mapActionsForm","mapActionsAPP","filter","ctx","err","_this","this","newModel","data","preventDefault","error","val","Component","Object","component_normalizer","_vm","_h","$createElement","_c","_self","_v","_s","meta","description","path","attrs","resource","getFilter","params","model","value","callback","$$v","formFilter","expression","horizontal","form","config","filterConfig","on","submit","$event","stopPropagation","reset","cleanFilter","_e","getFields","fields","show-empty","items","current-page","currentPage","per-page","perPage","striped","hover","empty-text","filterF","scopedSlots","_u","key","fn","row","item","folio","seleccion","$set","getCreate","formCreate","directives","name","rawName","modifiers","createNew","id","title","ok-title","cancel-title","size","centered","shown","unsetSticky","hidden","setSticky","ok","sendCreate","_t","ref","submitText","resetText","__webpack_exports__"],"mappings":"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","file":"static/js/7.9af3898f9ed4c53aa057.js","sourcesContent":["<template>\n<div>\n    <h1>{{$route.meta.description||$route.path}}</h1>\n    <api-request :resource=\"getFilter\" :params=\"model\" v-model=\"formFilter\">\n        <ITDForm horizontal v-if=\"formFilter\" :form=\"formFilter\" v-model=\"filter\" :config=\"filterConfig\" @submit.stop=\"\" @reset=\"cleanFilter\"/>\n    </api-request>\n    <api-request :resource=\"getFields\" :params=\"model\" v-model=\"fields\">\n        <b-table \n            v-if=\"fields\"\n            show-empty \n            :fields=\"fields\" \n            :items=\"items\" \n            :current-page=\"currentPage\" \n            :per-page=\"perPage\"\n            striped hover\n            empty-text=\"No hay datos para mostrar\"\n            :filter=\"filterF\"\n        >\n            <template slot=\"seleccion\" slot-scope=\"row\">\n            <b-form-checkbox v-model=\"seleccion[row.item.folio]\" :key=\"row.item.folio\" :value=\"row.item\"/>\n            </template>\n        </b-table>\n    </api-request>\n    <api-request :resource=\"getCreate\" :params=\"model\" v-model=\"formCreate\">\n        <b-btn v-b-modal.createNew>Nuevo</b-btn>\n            <b-modal id=\"createNew\" title=\"Nuevo...\" ok-title=\"Enviar\" cancel-title=\"Cancelar\" size=\"lg\" centered @shown=\"unsetSticky\" @hidden=\"setSticky\" @ok=\"sendCreate\">\n            <slot name=\"modal-cancel\" v-text=\"Cancelar\"/>\n            <ITDForm horizontal v-if=\"formCreate\" :form=\"formCreate\" v-model=\"newModel\" :config=\"{submitText:null,resetText:null}\" @submit.stop=\"\" @reset=\"cleanFilter\" ref=\"formCreate\"/>\n        </b-modal>\n    </api-request>\n</div>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from 'vuex';\nconst {mapState:mapStateAPP, mapActions:mapActionsAPP} = createNamespacedHelpers(\"app\");\nconst {mapState:mapStateForm, mapActions: mapActionsForm} = createNamespacedHelpers(\"form\");\nexport default {\n    data(){\n        return {\n            model:this.$route.path.split(\"/\").reverse()[0],\n            filterConfig:{\n                submitText:null,\n                resetText:\"Limpiar\"\n            },\n            formFilter:[],\n            currentPage:1,\n            perPage:10,\n            filter:{},\n            newModel:{},\n            fields:[],\n            formCreate:[]\n        }\n    },\n    computed:{\n        ...mapStateAPP([\"sticky\"])\n    },\n    created(){\n        console.log(\"Model Created\");\n        console.log(location);\n        console.log(this.$route);\n    },\n    methods:{\n        ...mapActionsForm([\"getFilter\",\"getFields\",\"getCreate\"]),\n        ...mapActionsAPP([\"setSticky\",\"unsetSticky\"]),\n        cleanFilter(){\n               this.$validator.clearForm(this.model.filter); \n        },\n        items(ctx){\n            console.log(\"ITEMS!!!\");\n            console.log(ctx);\n            console.log(ctx.filter());\n            return this.$http.get(this.$route.path+\".json?type=data\").then(({body})=>body).catch(err=>{\n                console.log(err);\n                return [];\n            });\n        },\n        filterF(){\n            return this.model.filter;\n        },\n        sendCreate(evt){\n            this.$refs.formCreate.validateForm().then(()=>{\n                console.log(this.newModel);\n                this.$http.post(this.$route.path+\".json\",this.newModel).then(data=>{\n                    console.log(\"resultado del FWcreate\");\n                    console.log(data);\n                }).catch(err=>{\n                    evt.preventDefault();\n                    console.log(\"error del FWcreate\");\n                    console.log(err);\n                });\n            },err=>{\n                evt.preventDefault();\n                alert(error);\n            });\n        },\n    },\n    watch:{\n        filter:{\n            handler(val){\n                console.log(\"cambio de filter\");\n                console.log(val);\n            },\n            deep:true\n        }\n    },\n    mounted(){\n        console.log(location);\n    }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Model.vue","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Model.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Model.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-864af9c6\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Model.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Model.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(_vm._s(_vm.$route.meta.description||_vm.$route.path))]),_vm._v(\" \"),_c('api-request',{attrs:{\"resource\":_vm.getFilter,\"params\":_vm.model},model:{value:(_vm.formFilter),callback:function ($$v) {_vm.formFilter=$$v},expression:\"formFilter\"}},[(_vm.formFilter)?_c('ITDForm',{attrs:{\"horizontal\":\"\",\"form\":_vm.formFilter,\"config\":_vm.filterConfig},on:{\"submit\":function($event){$event.stopPropagation();},\"reset\":_vm.cleanFilter},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}):_vm._e()],1),_vm._v(\" \"),_c('api-request',{attrs:{\"resource\":_vm.getFields,\"params\":_vm.model},model:{value:(_vm.fields),callback:function ($$v) {_vm.fields=$$v},expression:\"fields\"}},[(_vm.fields)?_c('b-table',{attrs:{\"show-empty\":\"\",\"fields\":_vm.fields,\"items\":_vm.items,\"current-page\":_vm.currentPage,\"per-page\":_vm.perPage,\"striped\":\"\",\"hover\":\"\",\"empty-text\":\"No hay datos para mostrar\",\"filter\":_vm.filterF},scopedSlots:_vm._u([{key:\"seleccion\",fn:function(row){return [_c('b-form-checkbox',{key:row.item.folio,attrs:{\"value\":row.item},model:{value:(_vm.seleccion[row.item.folio]),callback:function ($$v) {_vm.$set(_vm.seleccion, row.item.folio, $$v)},expression:\"seleccion[row.item.folio]\"}})]}}])}):_vm._e()],1),_vm._v(\" \"),_c('api-request',{attrs:{\"resource\":_vm.getCreate,\"params\":_vm.model},model:{value:(_vm.formCreate),callback:function ($$v) {_vm.formCreate=$$v},expression:\"formCreate\"}},[_c('b-btn',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.createNew\",modifiers:{\"createNew\":true}}]},[_vm._v(\"Nuevo\")]),_vm._v(\" \"),_c('b-modal',{attrs:{\"id\":\"createNew\",\"title\":\"Nuevo...\",\"ok-title\":\"Enviar\",\"cancel-title\":\"Cancelar\",\"size\":\"lg\",\"centered\":\"\"},on:{\"shown\":_vm.unsetSticky,\"hidden\":_vm.setSticky,\"ok\":_vm.sendCreate}},[_vm._t(\"modal-cancel\"),_vm._v(\" \"),(_vm.formCreate)?_c('ITDForm',{ref:\"formCreate\",attrs:{\"horizontal\":\"\",\"form\":_vm.formCreate,\"config\":{submitText:null,resetText:null}},on:{\"submit\":function($event){$event.stopPropagation();},\"reset\":_vm.cleanFilter},model:{value:(_vm.newModel),callback:function ($$v) {_vm.newModel=$$v},expression:\"newModel\"}}):_vm._e()],2)],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-864af9c6\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Model.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}