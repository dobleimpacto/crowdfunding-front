{"version":3,"sources":["webpack:///src/components/Form.vue","webpack:///./src/components/Form.vue","webpack:///./src/components/Form.vue?2847"],"names":["this","$validator","extends_default","FormDefinition","type","preventDefault","_$validator$validateF","validateForm","form","alert","text","_this","Component","Object","component_normalizer","Form","_vm","_h","$createElement","_c","_self","attrs","inline","$attrs","on","submit","onSubmit","reset","onReset","_l","input","id","key","label","description","horizontal","state","name","invalid-feedback","invalidFeedback","valid-feedback","left","right","inputType","_b","tag","staticClass","model","value","callback","$$v","$set","expression","_v","validate","double_check","_e","placeholder","variant","__webpack_exports__"],"mappings":"sOA8CA,uCAEA,uBACAA,uBAWAC,6BAGA,OAAAC,UACA,eACAC,iNAGA,UAEA,2CAIAC,OACA,aACA,eACA,wBACAA,MAEA,WACA,QACA,cAEA,iCAGAC,iBADA,IAAAC,EAAAN,KAAAC,WAEAM,mDACAC,OAAAC,MACAC,wBAEA,IAAAC,EAAAX,OACAK,iCAEA,kBACA,kBACA,wBACA,aAEA,6ECtFAO,EAAAC,OAAAC,EAAA,EAAAD,CACAE,ECfA,WAA0B,IAAAC,EAAAhB,KAAaiB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAD,EAAA,KAAAG,EAAA,UAA+BE,OAAOC,OAAA,WAAAN,EAAAO,QAAgCC,IAAKC,OAAAT,EAAAU,SAAAC,MAAAX,EAAAY,WAA2CZ,EAAAa,GAAAb,EAAA,gBAAAc,EAAAC,GAAyC,OAAAZ,EAAA,gBAA0Ba,IAAAD,EAAAV,OAAcY,MAAAH,EAAAG,MAAAC,YAAAJ,EAAAI,YAAAC,WAAA,eAAAnB,EAAAO,OAAAa,MAAApB,EAAAf,WAAAmC,MAAAN,EAAAO,MAAAC,mBAAAtB,EAAAf,WAAAsC,gBAAAT,EAAAO,MAAAG,iBAAA,MAAwNrB,EAAA,iBAAsBE,OAAOoB,KAAAX,EAAAW,KAAAC,MAAAZ,EAAAY,SAAuCvB,EAAA,UAAAH,EAAA2B,UAAAb,EAAA1B,MAAAY,EAAA4B,IAAiDC,IAAA,YAAAC,YAAA,UAAAzB,OAA6Ce,MAAApB,EAAAf,WAAAmC,MAAAN,EAAAO,OAAyCU,OAAQC,MAAAhC,EAAAR,KAAAsB,EAAAO,MAAAY,SAAA,SAAAC,GAAsDlC,EAAAmC,KAAAnC,EAAAR,KAAAsB,EAAAO,KAAAa,IAAoCE,WAAA,qBAAgC,YAAAtB,GAAA,QAAAd,EAAAqC,GAAA,KAAAvB,EAAAwB,UAAAxB,EAAAwB,SAAAC,aAAApC,EAAA,MAAAH,EAAAwC,KAAAxC,EAAAqC,GAAA,KAAAvB,EAAAwB,UAAAxB,EAAAwB,SAAAC,aAAApC,EAAA,iBAA6LE,OAAOoB,KAAAX,EAAAW,KAAAC,MAAAZ,EAAAY,SAAuCvB,EAAA,UAAAH,EAAA2B,UAAAb,EAAA1B,MAAAY,EAAA4B,IAAiDC,IAAA,YAAAC,YAAA,UAAAzB,OAA6CoC,YAAA,UAAA3B,EAAA2B,YAAArB,MAAApB,EAAAf,WAAAmC,MAAAN,EAAAO,OAAmFU,OAAQC,MAAAhC,EAAAuC,aAAAzB,EAAAO,MAAAY,SAAA,SAAAC,GAA8DlC,EAAAmC,KAAAnC,EAAAuC,aAAAzB,EAAAO,KAAAa,IAA4CE,WAAA,6BAAwC,YAAAtB,GAAA,QAAAd,EAAAwC,MAAA,KAA4CxC,EAAAqC,GAAA,KAAAlC,EAAA,YAA6BE,OAAOjB,KAAA,SAAAsD,QAAA,aAAqC1C,EAAAqC,GAAA,gBAAArC,EAAAwC,UDMh/C,EAEA,KAEA,KAEA,MAYAG,EAAA,QAAA/C,EAAA","file":"static/js/10.817f423cdfb90dd820a8.js","sourcesContent":["<template>\n    <b-form @submit=\"onSubmit\" @reset=\"onReset\" v-if=\"show\" :inline=\"'inline' in $attrs\">\n        <b-form-group v-for=\"(input,id) in inputs\" :key=\"id\"\n            :label=\"input.label\"\n            :description=\"input.description\"\n            :horizontal=\"'horizontal' in $attrs\"\n            :state=\"$validator.state(input.name)\"\n            :invalid-feedback=\"$validator.invalidFeedback[input.name]\"\n            :valid-feedback=\"''\"\n            >\n            <b-input-group \n                :left=\"input.left\" \n                :right=\"input.right\"\n            >\n                <component class=\"mx-auto\" v-bind=\"input\" :is=\"'b-form-'+inputType(input.type)\"\n                v-model=\"form[input.name]\"\n                :state=\"$validator.state(input.name)\"\n                />\n                </b-input-group>\n                <hr v-if=\"input.validate && input.validate.double_check\">\n            <b-input-group v-if=\"input.validate && input.validate.double_check\" \n                :left=\"input.left\" \n                :right=\"input.right\"\n            >\n                <component class=\"mx-auto\" v-bind=\"input\" :is=\"'b-form-'+inputType(input.type)\"\n                :placeholder=\"'Repita '+input.placeholder\"\n                v-model=\"double_check[input.name]\"\n                :state=\"$validator.state(input.name)\"\n                />\n            </b-input-group>\n        </b-form-group>\n        <b-button type=\"submit\" variant=\"primary\">Submit</b-button>\n    </b-form>\n</template>\n\n<script>\n/*TODO:\n    revisar que los validadores funcionen correctamente en todos los tipos.\n    implementar sobrecarga de validadores para tipos nuevos.\n    temrinar de implementar file, checkbox, radio y textarea.\n    implementar tablas con formularios (posiblemente otro componente)\n        verificar como opera invalidFeedback con objetos embebidos\n*/\nimport moment from \"moment\";\nexport default {\n    props:[\"FormDefinition\",\"form\"],\n    created(){\n        console.log(\"created\");\n        console.log(this);\n        //this.$validator.config(this.inputs,this.form,this.double_check);\n        /*this.$validator.addValidator(\"date\",\"range\",function(min,max){\n            let {value}=this;\n            let invalid = `debe seleccionar una fecha entre ${moment(min).format(\"DD/MM/YYYY\")} y ${moment(max).format(\"DD/MM/YYYY\")} `;\n            let data=moment(value).format(\"X\");\n            min=moment(min).format(\"X\");\n            max=moment(max).format(\"X\");\n            return (data<min ||  data>max)?invalid:\"\";\n        });*/\n        //this.$validator.addValidator(\"malo\",\"default\",()=>\"siempre malo\");\n        console.log(this.$validator);\n    },\n    data () {\n        return {\n            name:\"myform\",\n            ...this.FormDefinition,\n            //form:this.FormDefinition.inputs.reduce((obj,el)=>Object.assign(obj,{[el.name]:el.value||(el.multiple?[]:\"\")}),{}),\n            double_check:this.FormDefinition.inputs.filter(el=>el.validate&&el.validate[\"double_check\"]).reduce((obj,el)=>Object.assign(obj,{[el.name]:el.value||(el.multiple?[]:\"\")}),{}),\n            show: true,\n            strict: false\n        }\n    },\n    methods: {\n        inputType(type){\n            switch(type){\n                case \"select\":\n                case \"checkbox\":\n                case \"checkbox-group\":\n                    return type;\n                    break;\n                case \"text\":\n                case \"email\":\n                default:\n                    return \"input\";\n            }\n        },\n        onSubmit (evt) {\n            evt.preventDefault();\n            let {state,text} = this.$validator.validateForm();\n            if(state) alert(JSON.stringify(this.form));\n            else alert(text);\n        },\n        onReset (evt) {\n            evt.preventDefault();\n            // Reset our form values\n            this.form.email = '';\n            this.form.name = '';\n            this.form.food = null;\n            this.form.checked = false;\n            // Trick to reset/clear native browser form validation state\n            this.show = false;\n            this.$nextTick(() => { this.show = true });\n        }\n    },\n    mounted(){\n        /*let i =1;\n        console.log(\"form montado\");\n        setInterval(()=>{\n            this.inputs[7].options.push({text:\"nuevo\"+i,value:i+5});\n            i++;\n        },5000);\n        */\n    }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Form.vue","/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Form.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Form.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5ba0db11\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Form.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Form.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('b-form',{attrs:{\"inline\":'inline' in _vm.$attrs},on:{\"submit\":_vm.onSubmit,\"reset\":_vm.onReset}},[_vm._l((_vm.inputs),function(input,id){return _c('b-form-group',{key:id,attrs:{\"label\":input.label,\"description\":input.description,\"horizontal\":'horizontal' in _vm.$attrs,\"state\":_vm.$validator.state(input.name),\"invalid-feedback\":_vm.$validator.invalidFeedback[input.name],\"valid-feedback\":''}},[_c('b-input-group',{attrs:{\"left\":input.left,\"right\":input.right}},[_c('b-form-'+_vm.inputType(input.type),_vm._b({tag:\"component\",staticClass:\"mx-auto\",attrs:{\"state\":_vm.$validator.state(input.name)},model:{value:(_vm.form[input.name]),callback:function ($$v) {_vm.$set(_vm.form, input.name, $$v)},expression:\"form[input.name]\"}},'component',input,false))],1),_vm._v(\" \"),(input.validate && input.validate.double_check)?_c('hr'):_vm._e(),_vm._v(\" \"),(input.validate && input.validate.double_check)?_c('b-input-group',{attrs:{\"left\":input.left,\"right\":input.right}},[_c('b-form-'+_vm.inputType(input.type),_vm._b({tag:\"component\",staticClass:\"mx-auto\",attrs:{\"placeholder\":'Repita '+input.placeholder,\"state\":_vm.$validator.state(input.name)},model:{value:(_vm.double_check[input.name]),callback:function ($$v) {_vm.$set(_vm.double_check, input.name, $$v)},expression:\"double_check[input.name]\"}},'component',input,false))],1):_vm._e()],1)}),_vm._v(\" \"),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Submit\")])],2):_vm._e()}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ba0db11\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Form.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}