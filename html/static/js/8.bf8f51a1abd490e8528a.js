webpackJsonp([8],{B9BL:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("mvHQ"),o=r.n(n),s={data:function(){return{urls:null,data:null,trx:null}},computed:{type:function(){return this.$route.query.type},transaction_id:function(){return this.$route.query.transaction_id}},methods:{initTrx:function(){var t=this;return this.$http.get(this.$route.path+".json").then(function(e){var r=e.body;t.data=r,console.log("data"),console.log(t.data);var n={};for(var o in r)console.log(o),console.log(o.endsWith("url")),o.endsWith("url")&&(n[o]=r[o]);return console.log(n),n})}},filters:{pretty:function(t){return o()(t,null,2)},fromUnderscore:function(t){return t.replace(/_/g," ")}},mounted:function(){var t=this;console.log(this.$socket),console.log(this.$options.sockets),this.$socket.emit("test",this.transaction_id),"return"===this.type&&(this.$options.sockets.confirmTrx=function(e){console.log("TRX"),console.log(e),t.trx=e},this.$socket.emit("confirmTrx",this.transaction_id))},beforeDestroy:function(){console.log("van a destruir PAGO"),delete this.$options.sockets.confirmTrx}},i=r("XyMi"),l=Object(i.a)(s,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",["init"===t.type?r("api-request",{attrs:{resource:t.initTrx},model:{value:t.urls,callback:function(e){t.urls=e},expression:"urls"}},[r("h2",[t._v("Generando la transacci√≥n en Khipu")]),t._v(" "),t.data?r("pre",[t._v(t._s(t._f("pretty")(t.data)))]):t._e(),t._v(" "),t.urls?r("b-list-group",t._l(t.urls,function(e,n){return r("b-list-group-item",{key:n,attrs:{href:e}},[t._v(t._s(t._f("fromUnderscore")(n)))])})):t._e()],1):"cancel"===t.type?r("div",[r("h2",[t._v("Pago Cancelado")])]):"return"===t.type?r("div",[r("h2",[t._v("Esperando respuesta")]),t._v(" "),t.trx?r("div",[r("h3",[t._v("Pago realizado exitosamente")]),t._v(" "),r("b-btn",{attrs:{href:t.trx.receipt_url}},[t._v("Descargar Recibo")]),t._v(" "),r("pre",[t._v(t._s(t._f("pretty")(t.trx)))])],1):t._e()]):t._e()],1)},[],!1,null,null,null);e.default=l.exports}});
//# sourceMappingURL=8.bf8f51a1abd490e8528a.js.map